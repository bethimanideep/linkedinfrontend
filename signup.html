<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <form>
            <input id="name" type="text" placeholder="Name" required>
            <input id="email" type="email\" placeholder="Email" required>
            <input id="gender" type="text" placeholder="Gender" required>
            <input id="pass" type="password" placeholder="Password" required>
            <input id="age" type="number" placeholder="Age" required>
            <input id="placeholder" type="text" placeholder="City" required>
        </form>
        <button id="btn">Submit</button>
    </div>
</body>
<script>
    let name = document.getElementById("name")
    let email = document.getElementById("email")
    let gender = document.getElementById("gender")
    let pass = document.getElementById("pass")
    let age = document.getElementById("age")
    let placeholder = document.getElementById("placeholder")
    let btn = document.getElementById("btn")
    btn.addEventListener("click", () => {
        let data = {
            name: name.value,
            email: email.value,
            gender: gender.value,
            password: pass.value,
            age: age.value,
            placeholder: placeholder.value,
            posts:[]
        }
        fetch("https://tame-blue-bass-gown.cyclic.app/app/users/register",{
            method:"POST",
            headers:{
                "Content-Type":"application/json"
            },
            body:JSON.stringify(data)
        })
        .then(res=>res.json())
        .then((res)=>{
            if(res=="success"){
                alert("Registered success")
                window.location.href="./login.html"
            }else{
                alert("Already exists change name")
            }
        })
        .catch(err=>console.log(err))

    })

</script>

</html>