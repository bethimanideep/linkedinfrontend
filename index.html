<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <table>

            <thead>
                <tr>
                    <td>name</td>
                    <td>title</td>
                    <td>comment</td>
                    <td>device</td>
                </tr>
            </thead>
            <tbody id="posts">

            </tbody>
        </table>

    </div>
</body>
<script>
    let posts = document.getElementById("posts")
    let name = localStorage.getItem("username")
    let data = {
        name: name
    }
    fetch("https://tame-blue-bass-gown.cyclic.app/app/users/posts", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
    })
        .then(res => res.json())
        .then((res) => {
            if (name) {
                for (let i = 0; i < res.length; i++) {
                    let tr = document.createElement("tr")
                    let td1 = document.createElement("td")
                    let td2 = document.createElement("td")
                    let td3 = document.createElement("td")
                    let td4 = document.createElement("td")
                    td1.innerText = res[i].name
                    td2.innerText = res[i].title
                    td3.innerText = res[i].comment
                    td4.innerText = res[i].device
                    tr.append(td1, td2, td3, td4)
                    posts.append(tr)
                }
            }

        })
        .catch(err => console.log(err))
</script>

</html>